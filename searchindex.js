Search.setIndex({docnames:["_source/autofaiss","_source/autofaiss.datasets","_source/autofaiss.datasets.readers","_source/autofaiss.external","_source/autofaiss.indices","_source/autofaiss.metrics","_source/autofaiss.utils","_source/modules","getting_started/quantization","index","introduction/introduction"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.viewcode":1,nbsphinx:3,sphinx:56},filenames:["_source/autofaiss.rst","_source/autofaiss.datasets.rst","_source/autofaiss.datasets.readers.rst","_source/autofaiss.external.rst","_source/autofaiss.indices.rst","_source/autofaiss.metrics.rst","_source/autofaiss.utils.rst","_source/modules.rst","getting_started/quantization.rst","index.rst","introduction/introduction.rst"],objects:{"":{autofaiss:[0,0,0,"-"]},"autofaiss.datasets":{readers:[2,0,0,"-"],transforming:[1,0,0,"-"]},"autofaiss.datasets.readers":{downloader:[2,0,0,"-"],downloader_and_converter_full_python:[2,0,0,"-"],local_iterators:[2,0,0,"-"],remote_iterators:[2,0,0,"-"]},"autofaiss.datasets.readers.downloader":{download:[2,1,1,""],download_one:[2,1,1,""]},"autofaiss.datasets.readers.downloader_and_converter_full_python":{download:[2,1,1,""],save:[2,1,1,""]},"autofaiss.datasets.readers.local_iterators":{read_arrays_local:[2,1,1,""],read_embeddings_local:[2,1,1,""]},"autofaiss.datasets.readers.remote_iterators":{read_embeddings_remote:[2,1,1,""],read_filenames:[2,1,1,""]},"autofaiss.datasets.transforming":{convert_all_parquet_to_numpy:[1,1,1,""],convert_parquet_to_numpy:[1,1,1,""],parquet_already_transformed:[1,1,1,""],run_one:[1,1,1,""]},"autofaiss.external":{build:[3,0,0,"-"],optimize:[3,0,0,"-"],quantize:[3,0,0,"-"],scores:[3,0,0,"-"]},"autofaiss.external.build":{build_index:[3,1,1,""],estimate_memory_required_for_index_creation:[3,1,1,""],get_estimated_construction_time_infos:[3,1,1,""],get_estimated_download_time_infos:[3,1,1,""],get_nb_vectors_and_dim:[3,1,1,""],get_nb_vectors_approx_and_dim_from_hdfs:[3,1,1,""]},"autofaiss.external.optimize":{get_optimal_batch_size:[3,1,1,""],get_optimal_hyperparameters:[3,1,1,""],get_optimal_index_keys:[3,1,1,""],get_optimal_index_keys_v2:[3,1,1,""],get_optimal_nb_clusters:[3,1,1,""],get_optimal_quantization:[3,1,1,""],get_optimal_train_size:[3,1,1,""]},"autofaiss.external.quantize":{Quantizer:[3,2,1,""],main:[3,1,1,""]},"autofaiss.external.quantize.Quantizer":{quantize:[3,3,1,""],score_index:[3,3,1,""],tuning:[3,3,1,""]},"autofaiss.external.scores":{compute_fast_metrics:[3,1,1,""],compute_medium_metrics:[3,1,1,""],get_ground_truth:[3,1,1,""]},"autofaiss.indices":{faiss_index_wrapper:[4,0,0,"-"],index_factory:[4,0,0,"-"],index_utils:[4,0,0,"-"],memory_efficient_flat_index:[4,0,0,"-"],search:[4,0,0,"-"]},"autofaiss.indices.faiss_index_wrapper":{FaissIndexWrapper:[4,2,1,""]},"autofaiss.indices.faiss_index_wrapper.FaissIndexWrapper":{add:[4,3,1,""],search:[4,3,1,""]},"autofaiss.indices.index_factory":{index_factory:[4,1,1,""]},"autofaiss.indices.index_utils":{format_speed_ms_per_query:[4,1,1,""],get_index_size:[4,1,1,""],load_index_from_hdfs:[4,1,1,""],quantize_vec_without_modifying_index:[4,1,1,""],save_index_on_hdfs:[4,1,1,""],search_speed_test:[4,1,1,""],set_search_hyperparameters:[4,1,1,""],speed_test_ms_per_query:[4,1,1,""]},"autofaiss.indices.memory_efficient_flat_index":{MemEfficientFlatIndex:[4,2,1,""]},"autofaiss.indices.memory_efficient_flat_index.MemEfficientFlatIndex":{add:[4,3,1,""],add_all:[4,3,1,""],add_files:[4,3,1,""],delete_vectors:[4,3,1,""],search:[4,3,1,""],search_files:[4,3,1,""],search_numpy:[4,3,1,""]},"autofaiss.indices.search":{knn_query:[4,1,1,""]},"autofaiss.metrics":{recalls:[5,0,0,"-"],reconstruction:[5,0,0,"-"]},"autofaiss.metrics.recalls":{one_recall_at_r:[5,1,1,""],one_recall_at_r_single:[5,1,1,""],r_recall_at_r:[5,1,1,""],r_recall_at_r_single:[5,1,1,""]},"autofaiss.metrics.reconstruction":{quantize_vec_without_modifying_index:[5,1,1,""],reconstruction_error:[5,1,1,""]},"autofaiss.utils":{algorithms:[6,0,0,"-"],array_functions:[6,0,0,"-"],cast:[6,0,0,"-"],decorators:[6,0,0,"-"],hdfs_utils:[6,0,0,"-"],os_tools:[6,0,0,"-"]},"autofaiss.utils.algorithms":{discrete_binary_search:[6,1,1,""]},"autofaiss.utils.array_functions":{multi_array_split:[6,1,1,""],sanitize:[6,1,1,""]},"autofaiss.utils.cast":{cast_bytes_to_memory_string:[6,1,1,""],cast_memory_to_bytes:[6,1,1,""],to_faiss_metric_type:[6,1,1,""],to_readable_time:[6,1,1,""]},"autofaiss.utils.decorators":{Timeit:[6,2,1,""],should_run_once:[6,1,1,""],timer:[6,1,1,""]},"autofaiss.utils.hdfs_utils":{HDFSFile:[6,2,1,""],HDFSFileSystem:[6,2,1,""]},"autofaiss.utils.hdfs_utils.HDFSFile":{mode:[6,4,1,""],path:[6,4,1,""],read:[6,3,1,""],readlines:[6,3,1,""],write:[6,3,1,""]},"autofaiss.utils.os_tools":{list_local_files:[6,1,1,""],run_command:[6,1,1,""]},autofaiss:{datasets:[1,0,0,"-"],external:[3,0,0,"-"],indices:[4,0,0,"-"],metrics:[5,0,0,"-"],utils:[6,0,0,"-"],version:[0,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","method","Python method"],"4":["py","attribute","Python attribute"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:method","4":"py:attribute"},terms:{"0":[3,4,6],"0gb":6,"1":[2,3,4,5,8],"10":[3,4],"1000":3,"10000":3,"1024":6,"1280d":8,"150gb":8,"16":6,"16b":6,"16g":6,"1tb":8,"2":8,"20":8,"200m":8,"2d":4,"3":8,"32":[1,2,3],"32g":3,"40":[4,5],"4000000":4,"5":4,"50gb":8,"6":10,"6000000":3,"8":6,"95":8,"99p":4,"abstract":4,"boolean":6,"byte":[3,6],"case":9,"class":[2,3,4,6],"default":[2,6],"do":[4,6,8],"enum":6,"final":10,"float":[3,4,5,6],"function":[1,2,3,4,5,6],"import":[6,8],"int":[2,3,4,5,6],"new":[4,8],"return":[1,2,3,4,5,6],"true":[2,3,6],"try":3,A:4,By:8,For:[6,8],If:[3,8],It:[2,3,4,8,10],On:3,The:[2,3,6,9],Then:10,There:8,abc:4,accur:8,activ:10,ad:3,add:[3,4,8],add_al:4,add_fil:4,after:5,again:1,algorithm:[0,7],all:[1,2,3,6],allow:3,alreadi:[4,8],also:8,an:[1,2,3,4,5,9,10],ani:[4,6],api:10,appli:[4,6,8],approxim:3,ar:[2,3,4,8],around:8,arrai:[1,2,3,4,5,6],array_funct:[0,7],array_list:6,arrays_iter:2,associ:4,attribut:6,autofaiss:10,automat:[6,8],avail:[3,4],averag:[4,5,8],avg_norm_befor:5,avoid:4,awar:6,bandwidth:2,bandwidth_gbytes_per_sec:3,base:[3,4,6],bash:6,batch:[2,3,4,5],batch_siz:4,becar:8,becaus:[3,4],befor:5,begin:3,behind:9,benchmark:[0,4,7],best:3,better:8,between:3,bigger:4,bin:10,binari:[6,8],bool:[1,2,3,4,6],boost:[3,8],bound:3,buffer:6,build:[0,4,7,8],build_index:[3,8],cach:3,call:1,can:[3,4,6,8,10],cast:[0,7],cast_bytes_to_memory_str:6,cast_memory_to_byt:6,cd:10,cell:8,center:8,check:1,choic:3,choos:[3,8],chosen:3,cli:10,close:6,closer:8,closest:4,cluster:[3,8],cmd:6,code:[4,8],column:2,column_label:2,com:[3,8],command:[6,9,10],comment:6,complex:6,comput:[3,4,5,8],compute_fast_metr:3,compute_medium_metr:3,connect:[2,6],constraint:[3,8],construct:3,contain:[3,4,8],content:7,context:6,contextdecor:6,contextlib:6,control:8,convert:[1,2,6],convert_all_parquet_to_numpi:1,convert_parquet_to_numpi:1,copi:8,creat:[3,4,9,10],creation:8,current:3,current_memory_avail:3,custom:4,d:4,data:6,dataset:[0,3,7,8],debug:6,decor:[0,7],decreas:2,deepr:6,deepr_knn:10,deepr_python:10,defin:[3,6],delet:[1,4],delete_vector:4,dens:10,deploi:10,desactiv:8,describ:[3,4,8],desin:2,dest_path:[2,3],destin:3,detail:[2,3],determin:3,dict:[3,4],differ:[5,8],dim:4,dim_vector:3,dimens:[3,8],directli:8,directori:[2,6],discrete_binary_search:6,disk:[2,3,4,8],distanc:[3,4,6,8],doctest:6,document:8,doe:9,domain:6,download:[0,1,7],download_on:2,downloader_and_converter_full_python:[0,1],dst_path:4,e:10,each:[2,5],easier:6,ef_construct:4,effici:[2,4,9],efsearch:8,either:4,embed:[1,2,3,8],embeddings_fold:1,embeddings_hdfs_path:3,embeddings_iter:2,embeddings_path:[1,2,3,8],empti:3,encod:6,entri:3,environ:10,error:5,essenti:2,estim:3,estimate_memory_required_for_index_cr:3,euclidian:[3,8],eval_item_id:[3,5],evalu:4,everi:4,ex:2,exampl:[6,8],examples_command:8,execut:1,exempl:8,exist:9,experiment:3,explan:3,explor:4,extern:[0,7],facebookresearch:[3,8],factori:[3,8],faiss:[3,4,6,8],faiss_index_wrapp:[0,7],faiss_metric_typ:3,faissindexwrapp:4,fals:[1,3,4,6],far:3,fast:[3,6],faster:[3,8],file:[1,2,3,4,6],filenam:[2,4],filesystem:6,filesystemfil:6,find:[3,8],first:[3,6,10],fit:8,fix:4,flat:4,flat_threshold:3,folder:2,fonction:6,foo:6,forc:[3,6,8],force_max_index_memory_usag:3,force_pq:3,force_quantization_valu:3,format:[2,4],format_speed_ms_per_queri:4,from:[1,2,3,4,6],fs:6,full:[2,3],fulli:4,func:6,gather:3,gener:3,get_estimated_construction_time_info:3,get_estimated_download_time_info:3,get_ground_truth:3,get_index_s:4,get_nb_vectors_and_dim:3,get_nb_vectors_approx_and_dim_from_hdf:3,get_optimal_batch_s:3,get_optimal_hyperparamet:3,get_optimal_index_kei:3,get_optimal_index_keys_v2:3,get_optimal_nb_clust:3,get_optimal_quant:3,get_optimal_train_s:3,github:[3,8],give:3,given:[2,3,4,5,8],go:10,good:3,gpu:3,great:8,greedi:3,ground:3,ground_truth:[3,5],guidelin:[3,8],ha:8,ham:8,have:[3,8],hdf:[2,3,4,6,8],hdfs_util:[0,7],hdfsfile:6,hdfsfilesystem:6,hello:6,help:8,here:8,heurist:3,heusist:3,high:8,high_quantization_threshold:3,higher:8,hnsw:8,hnsw_threshold:3,hour:8,ht:8,http:[3,8],hyper:3,hyperparamet:[3,4,8],i:[4,6],id:3,impact:8,implement:4,indent:[3,6],index:[3,4,5,6,9,10],index_factori:[0,7],index_kei:[3,4,8],index_param:3,index_path:3,index_util:[0,7],indic:[0,3,7,8,10],info:3,inform:2,inner:[3,4,8],instanc:6,interact:6,interest:3,intersect:[3,8],invert:8,io:6,ip:3,ipynb:8,is_local_index_path:3,is_ok:6,issu:4,item:4,iter:[2,4,6],its:3,just:8,k:[3,4],keep:[4,8],kind:5,knn:[3,4,9],knn_queri:4,know:8,known:4,ksearch:4,l2:3,label:4,legaci:3,length:6,lib:[8,10],librari:[4,8,10],like:[4,8],limit:8,link:8,list:[2,3,4,5,6],list_local_fil:6,load:[2,4],load_index_from_hdf:4,local:[2,3,6,8],local_embeddings_path:[1,2,8],local_iter:[0,1],local_path:[2,4],log:6,lot:8,low:9,m:10,machin:3,magic:8,main:[3,8],make:[3,6],manag:6,mani:2,map:4,match:2,max:2,max_index_memory_usag:[3,8],max_index_query_time_m:[3,8],max_spe:3,max_timeout_per_iter:3,maxim:[3,8],maximum:[3,8],mean:[3,6],memefficientflatindex:4,memmori:4,memori:[3,4,6,8,9],memory_avail:3,memory_efficient_flat_index:[0,7],memory_str:6,messag:3,metric:[0,3,4,6,7,8],metric_typ:[3,4,6,8],might:3,millisecond:[3,4,8],min_ef_search:3,minut:8,mode:6,model:3,modul:[7,9],monoton:6,more:[3,4,8],moreov:4,most:3,ms:4,much:8,multi_array_split:6,multipl:4,my_index:4,n:6,n_core:[1,2],name:2,nb_chunk:6,nb_cluster:8,nb_item:4,nb_total_vector:8,nb_vector:3,ndarrai:[2,4,5],nearest:4,necessari:3,need:8,neighbour:4,newli:3,next:[3,10],nice:4,non:2,none:[1,2,3,4,5,6],notebook:[8,10],now:10,np:2,nprobe:8,npy:[1,2],num_byt:6,number:[2,3,4,6,8],numpi:[1,2,3,4,6],o:6,object:[1,3,6],omp_thread:3,onc:[6,10],one:[1,2,3,8],one_recall_at_r:5,one_recall_at_r_singl:5,onli:[6,8],open:6,optim:[0,4,6,7,8],optin:3,option:[3,6],order:[2,3],os:6,os_tool:[0,7],other:6,other_index:5,otherwis:[3,6],ouput:3,out:3,output_path:[3,8],over:[2,4],packag:7,page:9,parallel:1,parallelis:2,param_str:4,paramet:[2,3,4,6,8],parquet:[1,2,3],parquet_already_transform:1,parquet_embeddings_path:[2,3],parquet_fil:1,parquet_fold:1,pars:6,path:[2,3,4,6,8],pattern:2,perfect:3,perform:3,pip:10,pipelin:3,place:8,point:3,possibl:[2,8,10],potenti:3,pqx:3,precis:4,prefer:4,preprocess:3,print:[2,6],product:[3,4,8],promis:3,put:8,pyarrow:6,python3:10,python:8,qantiz:4,quantiz:[0,5,7,9,10],quantization_env:10,quantize_vec_without_modifying_index:[4,5],queri:[3,4,5,8],query_embed:3,query_max:3,r:[3,5,6],r_max:5,r_recall_at_r:5,r_recall_at_r_singl:5,rais:6,ram:[3,4,8],rang:[5,6],ratio:8,rb:6,read:[2,3,6],read_arrays_loc:2,read_embeddings_loc:2,read_embeddings_remot:2,read_filenam:2,readabl:6,reader:[0,1],readlin:6,recal:[0,3,7,8],recommend:3,reconstruct:[0,3,7],reconstruction_error:5,reduc:[3,8],reg:2,reg_exp_pattern:2,relat:4,relev:3,reli:4,remote_embeddings_path:1,remote_iter:[0,1],requir:9,result:3,retriev:4,right:8,root:6,round:6,run:[6,8,10],run_command:6,run_on:1,runtim:6,s:8,sanit:6,save:[2,4,8],save_index_on_hdf:4,scope:6,score:[0,7,9],score_index:3,search:[0,3,6,7,8,9,10],search_fil:4,search_numpi:4,search_speed_test:4,second:6,section:8,see:3,set:[2,3,4,8],set_search_hyperparamet:4,sever:2,sh:8,shape:[3,4],should:[1,2],should_run_onc:6,similar:[3,8,9,10],simpl:6,sinc:2,singl:5,singleton:2,size:[3,4],skip:6,slow:8,slower:4,small:[2,8],smaller:4,so:[3,8],some:[4,8],sort:2,sourc:[1,2,3,4,5,6,10],specif:8,speed:[2,3,4,8],speed_test_ms_per_queri:4,src_dest_path:2,src_path:4,stack:2,stack_input:[2,4],start:8,still:3,store:[2,3,4],str:[2,3,4,6],strict:3,string:[3,4,6],strong:3,submodul:7,subpackag:7,support:[4,6],swipe:3,t:6,test:3,than:[4,8],thank:6,them:3,thi:[2,3,4,8,10],threshold:8,through:10,time:[3,6,9],timeit:6,timer:6,timout_:4,to_faiss_metric_typ:6,to_readable_tim:6,too:[3,8],top:[3,8],total:3,train:3,transform:[0,2,7],truth:3,tune:[3,9],tupl:[3,4],two:4,txt:6,type:[1,2,3,4,5,6],union:3,uniqu:2,us:[2,3,4,5,6,9,10],usag:[8,9],use_gpu:[3,4],user:6,utf:6,util:[0,7],valu:[3,4,8],valueerror:6,variabl:6,variou:6,vec:[4,5],vec_dim:3,vector:[3,4,5,8,10],vector_dim:4,venv:10,verbos:[2,6],version:7,viewf:6,virtual:10,visit:8,w:6,want:8,wb:6,we:[4,8],well:6,were:1,what:9,when:2,where:8,which:[2,8],whole:8,wiki:[3,8],without:[2,4],work:[2,8],world:6,would:[3,8],wrapper:4,write:6,written:4,x:[4,6],xq:4,yield:2,you:[6,8,10],your:8},titles:["autofaiss package","autofaiss.datasets package","autofaiss.datasets.readers package","autofaiss.external package","autofaiss.indices package","autofaiss.metrics package","autofaiss.utils package","autofaiss","Creating an index","autofaiss reference documentation","Introduction"],titleterms:{"case":8,The:8,algorithm:6,an:8,array_funct:6,autofaiss:[0,1,2,3,4,5,6,7,9],behind:8,benchmark:5,build:3,cast:6,cli:9,command:8,content:[0,1,2,3,4,5,6],creat:8,dataset:[1,2],decor:6,document:9,doe:8,download:[2,3],downloader_and_converter_full_python:2,exist:8,extern:3,faiss_index_wrapp:4,get:[8,9],hdfs_util:6,index:8,index_factori:4,index_util:4,indic:[4,9],instal:[9,10],introduct:[9,10],local_iter:2,memory_efficient_flat_index:4,metric:5,modul:[0,1,2,3,4,5,6],optim:3,os_tool:6,packag:[0,1,2,3,4,5,6],quantiz:[3,8],reader:2,recal:5,reconstruct:5,refer:9,remote_iter:2,requir:[8,10],score:[3,8],search:4,start:9,submodul:[0,1,2,3,4,5,6],subpackag:[0,1],tabl:9,time:8,transform:1,tune:8,us:8,util:6,version:0,what:8}})